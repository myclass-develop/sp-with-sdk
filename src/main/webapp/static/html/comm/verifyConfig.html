<!DOCTYPE html>
<html lang="ko">
	<head>
		<title>verifyConfig.json 생성</title>
		
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="SP With Verifier">
		
		<link ref rel="icon" href="../../image/favicon.ico">
		
		<link rel="stylesheet" href="../../css/common.css">
		<link rel="stylesheet" href="../../css/style.css">
		<link rel="stylesheet" href="../../css/font.css">
		
		<script src="../../js/etc/jquery-3.6.0.js"></script>
		<script src="../../js/etc/base64.min.js"></script>
		
		<script src="../../js/comm/common.js"></script>
		
		<style type="text/css">
			input,
			select {
				color: #000000;
			}
			
			input:focus,
			select:focus {
				outline: none;
				border-color: #3566d6;
				box-shadow: 0 0 10px #3566d6;
			}
			
			.j-btn {
				position: relative;
				margin: 5px;
				padding: 30px 50px;
				min-width: 300px;
				text-align: center;
				color: #fff;
				background-color: #3566d6;
				font-family: "Noto Sans KR", "맑은 고딕", "Malgun Gothic", sans-serif;
				font-size: 30px;
				cursor: pointer;
				letter-spacing: -1px;
				border: none;
				border-radius: 3px;
				transition: all 0.3s;
				-webkit-transition: all 0.3s;
				-moz-transition: all 0.3s;
			}
			
			.j-btn:hover {
				background-color: #0640a5;
				background-size: 200%;
			}
			
			.j-btn:active {
				background-color: #3566d6;
			}
			
			.j-btn:first-child {
				margin-left: 0;
			}

			.j-box-group {
				display: block;
				margin-bottom: 10px;
				padding: 10px;
				width: 100%;
				border-radius: 12px;
				border: 1px solid #f0f2f6;
				box-shadow: 5px 5px 15px rgba(177, 180, 201, 0.1);
			}
			
			.j-box-tit {
				display: inline-block;
				margin-bottom: 20px;
				width: 100%;
				font-size: 200%;
				font-weight: 700;
			}
			
			#checkVerifyConfigForm div.j-box-group,
			#verifyConfigForm,
			#verifyConfigForm #proxy,
			#verifyConfigForm #push,
			#downloadForm {
 				display: none;
			}
			
			#checkVerifyConfigForm div.j-box-group:first-child {
				display: block;
			}
			
			#verifyConfig {
				height: 80%;
				min-height: 500px;
			}
		</style>
		
		<script src="../../js/comm/verifyConfig.js"></script>
	</head>
	
	<body>
		<div class="wrap">
	    	<div class="box-group">
				<a class="btn" href="../vp/vp.html">VP 검증</a>
				<a class="btn" href="../comm/revp.html">재검증</a>
				<a class="btn" href="../comm/vpdata.html">VP데이터</a>
				<a class="btn" href="../comm/util.html">Util</a>
				<a class="btn selected" href="../comm/verifyConfig.html">verifyConfig.json 생성</a>
			</div>
	    	
	    	<div class="j-box-group">
				<h1 class="box-tit">verifyConfig.json 생성</h1>
				
				<p>
					UI 설명: 설정값 입력 후 생성을 실행 한다. 생성된 파일은 .war 파일과 동일한 경로에 위치 시켜야 한다.
				</p>
			</div>
			
			<form id="checkVerifyConfigForm">
		    	<div class="j-box-group">
					<div class="txt-ac">
						<h1 class="j-box-tit">시스템구분</h1>
						
						<p>블록체인서버, 프록시서버, 푸시서버의 주소 구분을 위한 선택</p>
						
						<button type="button" class="j-btn" id="systemDivDev" value="DEV">개발</button>
						<button type="button" class="j-btn" id="systemDivProd" value="PROD">운영</button>
					</div>
				</div>
				
				<div class="j-box-group">
					<div class="txt-ac">
						<h1 class="j-box-tit">기관구분</h1>
						
						<p>블록체인서버 주소, 프록시서버 사용여부, 푸시서버 사용여부 구분을 위한 선택</p>
						
						<button type="button" class="j-btn" id="orgDivPublic" value="PUBLIC">공공</button>
						<button type="button" class="j-btn" id="orgDivFinence" value="FINENCE">금융</button>
						<button type="button" class="j-btn" id="orgDivNormal" value="NORMAL">일반</button>
					</div>
				</div>
				
				<div class="j-box-group">
					<div class="txt-ac">
						<h1 class="j-box-tit">제공유형</h1>
						
						<p>
							VP : 개인정보를 포함한 정보를 받고하 하는 경우<br>
							영지식 : 개인정보가 아닌 성별, 나이, 거주지역 등을 받고자 하는 경우<br>
						</p>
						
						<button type="button" class="j-btn" id="presentTypeDivVp" value="VP">VP</button>
						<button type="button" class="j-btn" id="presentTypeDivZkp" value="ZKP">영지식</button>
					</div>
				</div>
				
				<div class="j-box-group">
					<div class="txt-ac">
						<h1 class="j-box-tit">프록시 사용구분</h1>
						
						<p>QR-CPM 인터페이스나 프록시 모드를 사용 하는 경우 '예'</p>
						
						<button type="button" class="j-btn" id="proxyUseDivY" value="Y">예</button>
						<button type="button" class="j-btn" id="proxyUseDivN" value="N">아니오</button>
					</div>
				</div>
				
				<div class="j-box-group">
					<div class="txt-ac">
						<h1 class="j-box-tit">푸시 사용구분</h1>
						
						<p>푸시 인터페이스를 사용하는 경우 '예'</p>
						
						<button type="button" class="j-btn" id="pushUseDivY" value="Y">예</button>
						<button type="button" class="j-btn" id="pushUseDivN" value="N">아니오</button>
					</div>
				</div>
			</form>

			<form id="verifyConfigForm">
				<div class="box-group">
					<button type="button" class="btn" id="makeVerifyConfigBtn">생성</button>
				</div>
				
				<div class="j-box-group" id="blockchain">
					<h1 class="box-tit">블록체인 설정</h1>
					
					<div>
						<label for="blockchainAccount">블록체인서버 계정 : DID 등록 후 부여받은 블록체인 계정을 입력한다.</label>
						
						<input type="text" id="blockchainAccount" value="">
					</div>
					
					<div>
						<label for="blockchainServerDomain">블록체인서버 주소 : 시스템구분, 기관구분에 따른 블록체인서버주소를 입력한다.</label>
						<input type="text" id="blockchainServerDomain" value="">
					</div>
					
					<div>
						<label for="blockchainConnectTimeout">블록체인서버 타임아웃(connect) : 1/1000초 단위</label>
						<input type="text" id="blockchainConnectTimeout" value="3000">
					</div>
					
					<div>
						<label for="blockchainReadTimeout">블록체인서버 타임아웃(read) : 1/1000초 단위</label>
						<input type="text" id="blockchainReadTimeout" value="3000">
					</div>
					
					<div>
						<label for="blockchainUseCache">블록체인서버 데이터 캐시 사용여부</label>
						<select id="blockchainUseCache">
							<option value="true">true</option>
							<option value="false">false</option>
						</select>
					</div>
					
					<div>
						<label for="blockchainSdkDetailLog">SDK 상세로그 사용여부</label>
						<select id="blockchainSdkDetailLog">
							<option value="true">true</option>
							<option value="false">false</option>
						</select>
					</div>
				</div>
				
				<div class="j-box-group" id="didWalletFile">
					<h1 class="box-tit">DID And Wallet 설정</h1>
					
					<div>
						<label for="didWalletFileKeymanagerPath">Wallet 파일 경로 : .war 파일을 기준의 상대경로. was에 배포하는 경우 절대경로로 입력</label>
						<input type="text" id="didWalletFileKeymanagerPath" value="">
					</div>
					
					<div>
						<label for="didWalletFileKeymanagerPassword">Wallet 비밀번호 : Wallet 생성시 입력한 비밀번호</label>
						<input type="text" id="didWalletFileKeymanagerPassword" value="">
					</div>
					
					<div>
						<label for="didWalletFileSignKeyId">서명 KeyId : Wallet 생성시 입력한 SIGN KEY ID</label>
						<input type="text" id="didWalletFileSignKeyId" value="">
					</div>
					
					<div>
						<label for="didWalletFileEncryptKeyId">암호화 KeyId : Wallet 생성시 입력한 ENCRYPT KEY ID</label>
						<input type="text" id="didWalletFileEncryptKeyId" value="">
					</div>
					
					<div>
						<label for="didWalletFileDidFilePath">DID 파일 경로 : .war 파일을 기준의 상대경로. was에 배포하는 경우 절대경로로 입력</label>
						<input type="text" id="didWalletFileDidFilePath" value="">
					</div>
				</div>
				
				<div class="j-box-group" id="sp">
					<h1 class="box-tit">SP 설정</h1>
					
					<label for="spServerDomain">SP 서버주소 : 현 서버주소(인터넷에서 접속 할 수 있는 주소)</label>
					<input type="text" id="spServerDomain" value="">
					
					<label for="spBiImageUrl">BI 이미지 주소 : 신분증앱의 정보보내기 팝업에서 보여줄 아이콘 이미지 주소. M200 메세지의 image 항목값</label>
					<input type="text" id="spBiImageUrl" value="">
					
					<label for="spBiImageBase64">BI 이미지 데이터 : 신분증앱의 정보보내기 팝업에서 보여줄 아이콘 이미지 파일데이터를 Base64로 인코딩한 데이터. QR-CPM 또는 BI 이미지 주소항목을 사용하지 않을때 사용</label>
					<input type="text" id="spBiImageBase64" value="">
					
					<label for="spIsCi">VP 내 CI 포함 여부</label>
					<select id="spIsCi">
						<option value="true">true</option>
						<option value="false" selected="selected">false</option>
					</select>
					
					<label for="spIsTelno">VP 내 전화번호 포함 여부</label>
					<select id="spIsTelno">
						<option value="true">true</option>
						<option value="false" selected="selected">false</option>
					</select>
					
					<label for="spCheckRequiredPrivacy">필수 VP 항목 확인여부</label>
					<select id="spCheckRequiredPrivacy">
						<option value="true">true</option>
						<option value="false">false</option>
					</select>
					
					<label for="spCheckVcExpirationDate">VP 만료일자 확인여부</label>
					<select id="spCheckVcExpirationDate">
						<option value="true">true</option>
						<option value="false">false</option>
					</select>
				</div>
				
				<div class="j-box-group" id="services">
					<h1 class="box-tit">서비스 설정</h1>
					
					<div class="j-box-group">
						<label for="servicesSpName">SP명 : 신분증앱의 정보보내기 팝업에서 보여줄 SP명(서비스명과 합쳐서 보여줌). ex) SP명(서비스명)</label>
						<input type="text" id="servicesSpName" value="">
						
						<label for="servicesServiceName">서비스명 : 신분증앱의 정보보내기 팝업에서 보여줄 서비스명(SP명과 합쳐서 보여줌). ex) SP명(서비스명)</label>
						<input type="text" id="servicesServiceName" value="">
						
						<label for="servicesSvcCode">서비스코드 : DID 등록 후 부여받은 서비스코드</label>
						<input type="text" id="servicesSvcCode" value="">
						
						<label for="servicesPresentType">제공유형 : 기본값은 VP이며 사용자의 개인정보를 포함하지 않는 정보(성별, 나이, 거주지역 등)를 받을 경우만 영지식을 선택</label>
						<select id="servicesPresentType">
							<option value="1">VP</option>
							<option value="2">영지식</option>
						</select>
						
						<label for="servicesEncryptType">암호화유형 : 전자봉투 방식 암호화시 사용 할 알고리즘</label>
						<select id="servicesEncryptType">
							<option value="1">AES128</option>
							<option value="2" selected="selected">AES256</option>
						</select>
						
						<label for="servicesKeyType">키유형 : 전자봉투 방식 암호화시 키 암호화에 사용 할 알고리즘</label>
						<select id="servicesKeyType">
							<option value="2">RSA</option>
						</select>
						
						<label for="servicesAuthType">인증유형 : 일반인증(지문 or 페이스아이디 or PIN번호), 안심인증: PIN번호 + 안면인증</label>
						<select id="servicesAuthType">
							<option value='null'>일반인증</option>
							<option value='["pin","face"]'>안심인증</option>
						</select>
						
						<label for="servicesZkpSchemaName">영지식 스키마명</label>
						<select id="servicesZkpSchemaName">
							<option value="ALL">전체</option>
							<option value="MDL">운전면허증</option>
							<option value="MNH">국가보훈등록증</option>
							<option value="MEP">재외국민신원확인증</option>
							<option value="MRC">주민등록증</option>
							<option value="MFC">외국인등록증</option>
						</select>
						
						<label for="servicesAttrList">영지식 항목 : 주소(동 까지), 성별, 면허종별, 생년</label>
						<select id="servicesAttrList">
							<option value='null'>미사용</option>
							<option value='["zkpaddr"]'>주소</option>
							<option value='["zkpsex"]'>성별</option>
							<option value='["zkpasort"]'>면허종별</option>
							<option value='["zkpyear"]'>생년</option>
							<option value='["zkpaddr","zkpsex"]'>주소, 성별</option>
						</select>
						
						<label for="servicesPredList">영지식 조건 : 성인여부(19세)</label>
						<select id="servicesPredList">
							<option value='null'>미사용</option>
							<option value='[{"zkpbirth": {"type": "LE", "value": "-19"}}]'>성인여부</option>
						</select>
						
						<label for="servicesCallBackUrl">callBackUrl : QR-CPM direct 인터페이스 사용시 VP를 전달 할 URL, QR-CPM direct이 아닌 경우 빈값</label>
						<input type="text" id="servicesCallBackUrl" value="">
					</div>
				</div>
				
				<div class="j-box-group" id="proxy">
					<h1 class="box-tit">프록시 설정</h1>
					
					<label for="proxyProxyServer">프록시서버주소 : QR-CPM이나 Proxy모드를 사용 할 경우 입력</label>
					<input type="text" id="proxyProxyServer" value="">
					
					<label for="proxyProxyConnTimeOut">프로시서버 타임아웃</label>
					<input type="text" id="proxyProxyConnTimeOut" value="60">
				</div>
				
				<div class="j-box-group" id="push">
					<h1 class="box-tit">푸시 설정</h1>
					
					<label for="pushPushServer">정부앱 푸시서버주소 : 모바일 신분증 앱으로 푸시를 발송 할 경우</label>
					<input type="text" id="pushPushServer" value="">
					
					<label for="opnPushServerList">민간개방 푸시서버 목록 URL : CA List API 사용여부 true일 경우</label>
					<input type="text" id="opnPushServerList" value="">
					
					<label for="opnPushServerUse">민간개방 푸시서버 사용 URL : 민간개방 앱으로 푸시를 발송 할 경우</label>
					<input type="text" id="opnPushServerUse" value="">
					
					<label for="caListApiUse">CA List API 사용여부</label>
					<select id="caListApiUse">
						<option value="true">true</option>
						<option value="false">false</option>
					</select>
					
					<label for="pushPushMsCode">푸시 연계시스템 코드 : 푸시서버 사용신청시 부여받은 MS-CODE</label>
					<input type="text" id="pushPushMsCode" value="">
					
					<label for="pushPushType">푸시유형 : 푸시메세지 유형(신원제출 요청)</label>
					<input type="text" id="pushPushType" value="MIP-USP-001">
				</div>
				
				<div class="j-box-group" id="db">
					<h1 class="box-tit">DB 설정</h1>
					
					<label for="provider">DB 종류</label>
					<select id="provider">
						<option value="memory">개발용-메모리DB</option>
						<option value="cubrid">cubrid</option>
						<option value="db2">db2</option>
						<option value="h2">h2</option>
						<option value="hsql">hsql</option>
						<option value="maria">maria</option>
						<option value="oracle">oracle</option>
						<option value="postgresql">postgresql</option>
					</select>
					
					<label for="url">url</label>
					<input type="text" id="url" value="">
					
					<label for="username">사용자명</label>
					<input type="text" id="username" value="">
					
					<label for="password">비밀번호</label>
					<input type="text" id="password" value="">
				</div>
			</form>
			
			<form id="downloadForm">
				<div class="box-group">
					<a id="downloadVerifyConfigBtn" class="btn" download="verifyConfig.json">다운로드</a>
				</div>
				
				<div class="box-group">
					<h1 class="box-tit">verifyConfig.json</h1>
					
					<p>자동으로 입력된 항목들 중 변경 할 사항을 수정 한 후 적용 한다.</p>
					
					<textarea id="verifyConfig"></textarea>
				</div>
			</form>
		</div>
	</body>
</html>